{% extends "base.html" %}

{% block title %}Status{% endblock %}

{% block content %}
    <h1>Status</h1>
    
    <form method="POST" action="{{ url_for('status') }}">
        <input type="hidden" name="status_id" id="status_id">
        <label for="name">Name:</label><br>
        <input type="text" id="name" name="name" required><br><br>
        <input type="submit" style="background-color:#28a745;" value="Add/Update Status">
    </form>
    {% if error %}
    <p style="color:red;">{{ error }}</p>
    {% endif %}
    <ul>
        {% for status in statuses %}
        <li>
            {{status.id}} - {{ status.name }}
            <button class="btn btn-green" onclick="editstatus('{{ status.id }}', '{{ status.name }}')">Edit</button>
            <form method="POST" action="{{ url_for('delete_status', status_id=status.id) }}" style="display:inline;">
                <input type="submit" style="background-color:#28a745;" value="Delete" onclick="return confirm('Are you sure you want to delete this status?')">
            </form>
        </li>
        {% endfor %}
    </ul>

    <script>
        function editstatus(id, name) {
            document.getElementById('status_id').value = id;
            document.getElementById('name').value = name;
            
        }
    </script>
{% endblock %}
